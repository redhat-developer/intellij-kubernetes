<idea-plugin>
    <id>com.redhat.devtools.intellij.kubernetes</id>
    <name>Kubernetes by Red Hat</name>
    <vendor email="developers@redhat.com" url="http://www.redhat.com">Red-Hat</vendor>
    <description>
        <![CDATA[
        <p>A plugin for interacting with Kubernetes and OpenShift clusters.</p>
        <p>The plugin provides functionalities and user experiences that are very close to the Kubernetes extension for vscode (Visual Studio Code Kubernetes Tools).</p>
        ]]>
    </description>
    <change-notes>
        <![CDATA[
        <p></p>
        <h3>0.4.2</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/365">IllegalStateException when binary plugin is installed in IDEA 2021.3.3"</a></li>
        </ul>
        <h3>0.4.1</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/356">Exception: "Access is allowed from event display thread only"</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/358">Cannot list Projects in Sandbox (or cluster without admin access)</a></li>
        </ul>
        <h3>0.4.0</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/319">As a user I want to control if my local file is overwritten from the cluster pull</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/317">IllegalStateException when creating a new kubernetes yml file without namespace</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/339">Start/Stop of cluster does not cause tree to change</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/328">new pipeline does not appear in tree when pushed via editor</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/326">CRC/OpenShift: deployment does not appear when created</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/306">Updating deployment won't update available pods</a></li>
        </ul>
        <h3>0.3.0</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/217">Resource editor: should allow to edit files loaded from local disk (File > Open)</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/266">Support Kubernetes 1.22.0</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/281">Pods for a deployment are not listed. An error is displayed instead.</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/212">Add telemetry information for the extension</a></li>
        </ul>
        <h3>0.2.4</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/258">InvalidPathException: Illegal char <:> at index 16: \Repository Diff: application.yml </a>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/249">Replace API usage scheduled for removal in IC-2021.3</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/262">use kubernetes-client 5.7.2</a></li>
        </ul>
        <h3>0.2.2</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/236">IDE Error: commitDocument() left PSI inconsistent</a></li>
        </ul>
        <h3>0.2.1</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/175">Should be able to edit resources</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/132">Should stop watching resources when tree node is collapsed</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/180">Error when opening new plugin version</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/181">Switch project/namespace command not showing up</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/185">Too many dependencies in the zip file</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/168">Update kubernetes client to 5.0.2</a></li>
        </ul>
        <h3>0.1.6</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/193">"Use Project/Namespace" & "Set as Current Cluster" should alter kubeconfig</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/192">tool window: active context is not updated when unauthorized context is logged in</a></li>
        </ul>
        <h3>0.1.5</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/181">Switch project/namespace command not showing up</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/180">Error when opening new plugin version</a></li>
        </ul>
        <h3>0.1.3</h3>
        <ul>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/172">PluginException: Icon cannot be found in 'AllIcons.Modules.DeleteContentFolder'</a></li>
            <li><a href="https://github.com/redhat-developer/intellij-kubernetes/issues/132">Should stop watching resources when tree node is collapsed </a></li>
        </ul>
        <p></p>
        ]]>
    </change-notes>
    <depends>com.intellij.modules.lang</depends>
    <depends>org.jetbrains.plugins.yaml</depends>
    <depends optional="true" config-file="plugin-json.xml">com.intellij.modules.json</depends>
    <depends optional="true">org.jetbrains.plugins.terminal</depends>
    <depends>com.redhat.devtools.intellij.telemetry</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Kubernetes"
                    anchor="left"
                    factoryClass="com.redhat.devtools.intellij.kubernetes.KubernetesToolWindowFactory"
                    icon="/META-INF/pluginIcon13x13.svg"/>
        <applicationService serviceInterface="com.redhat.devtools.intellij.kubernetes.model.IResourceModel"
                            serviceImplementation="com.redhat.devtools.intellij.kubernetes.model.ResourceModel"/>
        <nonProjectFileWritingAccessExtension implementation="com.redhat.devtools.intellij.common.editor.AllowNonProjectEditing" />
        <postStartupActivity implementation="com.redhat.devtools.intellij.kubernetes.KubernetesPluginInitializer" />
        <!-- >= IC-2020.3 -->
        <notificationGroup displayType="BALLOON" id="Kubernetes Notification Group" isLogByDefault="true"/>
        <editorTabTitleProvider implementation="com.redhat.devtools.intellij.kubernetes.editor.ResourceEditorTabTitleProvider"/>
    </extensions>

    <extensionPoints>
        <extensionPoint name="resourceOperators"
                        interface="com.redhat.devtools.intellij.kubernetes.model.resource.IResourceOperatorFactory"/>
        <extensionPoint name="structureContribution"
                        interface="com.redhat.devtools.intellij.kubernetes.tree.ITreeStructureContributionFactory"/>
    </extensionPoints>

    <actions>
        <group id="com.redhat.devtools.intellij.kubernetes.tree" popup="true">
            <!-- Application Explorer -->
            <!-- action icon via class: has to be in 'icons' package and name ending with *Icons -->
            <!-- https://www.jetbrains.org/intellij/sdk/docs/reference_guide/work_with_icons_and_images.html -->
            <action class="com.redhat.devtools.intellij.kubernetes.actions.SetAsCurrentClusterAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.SetAsCurrentClusterAction"
                    text="Set as Current Cluster"
                    icon="AllIcons.Nodes.EmptyNode"/>
            <action class="com.redhat.devtools.intellij.kubernetes.actions.UseNamespaceAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.UseNamespaceAction"
                    text="Use Namespace"
                    icon="AllIcons.Nodes.EmptyNode"/>
            <action class="com.redhat.devtools.intellij.kubernetes.actions.UseProjectAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.UseProjectAction"
                    text="Use Project"
                    icon="AllIcons.Nodes.EmptyNode"/>
            <action class="com.redhat.devtools.intellij.kubernetes.actions.EditResourceAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.EditResourceAction"
                    text="Edit..."
                    icon="AllIcons.Actions.Edit"/>
            <action class="com.redhat.devtools.intellij.kubernetes.actions.DeleteResourceAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.DeleteResourceAction"
                    text="Delete"
                    icon="AllIcons.Actions.Close"/>
            <action class="com.redhat.devtools.intellij.kubernetes.actions.RefreshAction"
                    id="com.redhat.devtools.intellij.kubernetes.actions.RefreshAction"
                    text="Refresh"
                    icon="AllIcons.Actions.Refresh"/>
        </group>

        <group id="Kubernetes.Editor.Toolbar" class="com.intellij.openapi.actionSystem.DefaultActionGroup">
            <action class="com.redhat.devtools.intellij.kubernetes.editor.actions.PushAction"
                    id="com.redhat.devtools.intellij.kubernetes.editor.actions.PushAction"
                    text="Push Editor to the Cluster"
                    icon="/icons/upload.svg" />
            <action class="com.redhat.devtools.intellij.kubernetes.editor.actions.PullAction"
                    id="com.redhat.devtools.intellij.kubernetes.editor.actions.PullAction"
                    text="Pull from Cluster to the Editor"
                    icon="/icons/download.svg" />
            <action class="com.redhat.devtools.intellij.kubernetes.editor.actions.DiffAction"
                    id="com.redhat.devtools.intellij.kubernetes.editor.actions.DiffAction"
                    text="Diff editor resource with cluster resource"
                    icon="/icons/diff.svg" />
        </group>
    </actions>

</idea-plugin>
